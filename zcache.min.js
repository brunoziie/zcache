/*
 http://www.opensource.org/licenses/mit-license.php The MIT License
 @author: Bruno Silva | eu@brunoziie.com 
*/
(function(e){var g={debug:!1,cacheDuration:1800,scriptsPath:""},c={isCompatible:function(){this.isCompatible="undefined"!==typeof e.localStorage?function(){return!0}:function(){return!1};return this.isCompatible()},isExpired:function(a){if("undefined"!==typeof a.created){var k=new Date;a=new Date(a.created);a.setSeconds(a.getSeconds()+g.cacheDuration);return a<k?!0:!1}return!0},hasCache:function(a){if(this.isCompatible())return this.hasCache=function(a){return null!==e.localStorage.getItem(a)?!0:
!1},this.hasCache(a);this.hasCache=function(){};return!1},addToCache:function(a,c){this.isCompatible()?(this.addToCache=function(a,c){e.localStorage.setItem(a,JSON.stringify(c))},this.addToCache(a,c)):this.addToCache=function(){}},getFromCache:function(a){return JSON.parse(e.localStorage.getItem(a))},removeFromCache:function(a){this.hasCache(this.scriptsPath+a)&&e.localStorage.removeItem(a)},loadScriptText:function(a,c){var d=this,f=new XMLHttpRequest,b=c||!0;f.open("GET",a);f.onreadystatechange=
function(){4===f.readyState&&(200===f.status?(b&&d.addToCache(a,{data:f.responseText,created:new Date}),d.putInHead(f.responseText)):!0===g.debug&&console.log('"'+a+'"" not loaded'))};f.send()},putInHead:function(a,c){var d=e.document.createElement("script");c?d.src=a:d.text=a;e.document.head.appendChild(d)}};e.ZCache={require:function(a,e){var d,f,b,j,h=[];e=e||!1;"string"===typeof a?h.push(a):"undefined"!==typeof a.length&&(h=a);f=h.length;if(c.isCompatible())for(d=0;d<f;d+=1)b=h[d],"object"===
typeof b?"boolean"===typeof b.noCache?c.putInHead(g.scriptsPath+b.file,b.noCache):c.putInHead(g.scriptsPath+b.file):"string"===typeof b&&(b=g.scriptsPath+b,!0===e?c.putInHead(b,!0):c.hasCache(b)?(j=c.getFromCache(b),c.isExpired(j)?c.loadScriptText(b):c.putInHead(j.data)):c.loadScriptText(b));else for(d=0;d<f;d+=1)b=h[d],"object"===typeof b?c.putInHead(g.scriptsPath+b.file):"string"===typeof b&&(b=g.scriptsPath+b,c.putInHead(b))},setOption:function(a,c){g[a]=c},remove:function(a){c.removeFromCache(a)}}})(this);